{"ast":null,"code":"const handleLogin = async e => {\n  e.preventDefault();\n  console.log(\"Submitting login...\");\n  let credentials = {\n    username: username,\n    password: password\n  };\n  credentials.username = credentials.username.toLowerCase();\n  console.log(\"Credentials:\", credentials);\n  try {\n    const res = await axios.post(\"http://localhost:3000/api/v1/user/login\", credentials);\n    console.log(\"Response received:\", res);\n    if (res.status === 200) {\n      localStorage.setItem(\"valid\", true);\n      localStorage.setItem(\"token\", res.data.token);\n      localStorage.setItem(\"username\", res.data.username);\n      localStorage.setItem(\"id\", res.data.id);\n      console.log(\"Login successful, navigating to home...\");\n      navigate(\"/home\");\n    } else {\n      console.log(\"Invalid credentials\");\n      localStorage.setItem(\"valid\", false);\n    }\n  } catch (error) {\n    console.error(\"Error during login:\", error.response ? error.response.data : error.message);\n  }\n};","map":{"version":3,"names":["handleLogin","e","preventDefault","console","log","credentials","username","password","toLowerCase","res","axios","post","status","localStorage","setItem","data","token","id","navigate","error","response","message"],"sources":["/Users/shaghayeghzarei/Documents/School/FullStack/101274382_comp3123_assignment2/frontend/src/components/Login.js"],"sourcesContent":["const handleLogin = async (e) => {\n  e.preventDefault();\n  console.log(\"Submitting login...\");\n  let credentials = {\n    username: username,\n    password: password,\n  };\n  credentials.username = credentials.username.toLowerCase();\n  console.log(\"Credentials:\", credentials);\n  try {\n    const res = await axios.post(\n      \"http://localhost:3000/api/v1/user/login\",\n      credentials\n    );\n    console.log(\"Response received:\", res);\n    if (res.status === 200) {\n      localStorage.setItem(\"valid\", true);\n      localStorage.setItem(\"token\", res.data.token);\n      localStorage.setItem(\"username\", res.data.username);\n      localStorage.setItem(\"id\", res.data.id);\n      console.log(\"Login successful, navigating to home...\");\n      navigate(\"/home\");\n    } else {\n      console.log(\"Invalid credentials\");\n      localStorage.setItem(\"valid\", false);\n    }\n  } catch (error) {\n    console.error(\"Error during login:\", error.response ? error.response.data : error.message);\n  }\n};\n"],"mappings":"AAAA,MAAMA,WAAW,GAAG,MAAOC,CAAC,IAAK;EAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClBC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;EAClC,IAAIC,WAAW,GAAG;IAChBC,QAAQ,EAAEA,QAAQ;IAClBC,QAAQ,EAAEA;EACZ,CAAC;EACDF,WAAW,CAACC,QAAQ,GAAGD,WAAW,CAACC,QAAQ,CAACE,WAAW,CAAC,CAAC;EACzDL,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEC,WAAW,CAAC;EACxC,IAAI;IACF,MAAMI,GAAG,GAAG,MAAMC,KAAK,CAACC,IAAI,CAC1B,yCAAyC,EACzCN,WACF,CAAC;IACDF,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEK,GAAG,CAAC;IACtC,IAAIA,GAAG,CAACG,MAAM,KAAK,GAAG,EAAE;MACtBC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC;MACnCD,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,GAAG,CAACM,IAAI,CAACC,KAAK,CAAC;MAC7CH,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEL,GAAG,CAACM,IAAI,CAACT,QAAQ,CAAC;MACnDO,YAAY,CAACC,OAAO,CAAC,IAAI,EAAEL,GAAG,CAACM,IAAI,CAACE,EAAE,CAAC;MACvCd,OAAO,CAACC,GAAG,CAAC,yCAAyC,CAAC;MACtDc,QAAQ,CAAC,OAAO,CAAC;IACnB,CAAC,MAAM;MACLf,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;MAClCS,YAAY,CAACC,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC;IACtC;EACF,CAAC,CAAC,OAAOK,KAAK,EAAE;IACdhB,OAAO,CAACgB,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAACC,QAAQ,GAAGD,KAAK,CAACC,QAAQ,CAACL,IAAI,GAAGI,KAAK,CAACE,OAAO,CAAC;EAC5F;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}